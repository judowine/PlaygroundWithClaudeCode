# PBI (Product Backlog Item) 管理

このディレクトリはプロダクトバックログアイテム（PBI）の管理用です。エンジニアの着手可能性を明確にする状態管理とDefinition of Ready (DoR) による品質管理を実現します。

## ディレクトリ構造

```
docs/pbi/
├── README.md           # このファイル
├── templates/          # PBIテンプレート
├── requirements/       # 要件定義中（まだ着手不可）
├── blocked/           # ブロック中（依存関係未解決）
├── ready/             # 着手可能（Definition of Ready完了）
├── active/            # 進行中
├── completed/         # 完了したPBI
└── archived/          # アーカイブされたPBI
```

## PBI状態管理フロー

```
requirements → ready → active → completed → archived
     ↓           ↓        ↓         ↓          ↓
  要件定義中   着手可能   進行中     完了    アーカイブ
     ↓           ↓        
   blocked    blocked   
（ブロック中）（ブロック中）
```

### 状態の詳細

#### 🔍 requirements（要件定義中）
- ステークホルダーとの要件確認が完了していない
- 受け入れ条件が不明確
- エンジニアの着手は不可

#### 🚫 blocked（ブロック中） 
- 依存関係が未解決（他PBIの完了待ち）
- 必要な設計・仕様が未完成
- 技術的課題が未解決
- 外部要因による待機状態

#### ✅ ready（着手可能）
- Definition of Ready (DoR) の全項目が完了
- エンジニアが即座に着手可能
- 必要な情報が全て揃っている

#### 🚀 active（進行中）
- エンジニアが実装に着手
- 定期的な進捗確認を実施

#### ✨ completed（完了）
- 受け入れ条件を満たし、完了確認済み
- 本番環境にデプロイ済み

#### 📦 archived（アーカイブ）
- 長期間参照されない完了済みPBI

## Definition of Ready (DoR) チェックリスト

PBIが `ready` 状態になるための必須条件：

### 📋 要件定義完了
- [ ] ユーザーストーリーが明確（INVEST原則準拠）
- [ ] 受け入れ条件が具体的（SMART原則準拠）
- [ ] ビジネス価値が明確

### 🔧 技術仕様完了
- [ ] 技術的実装アプローチが定義済み
- [ ] API仕様が確定（該当する場合）
- [ ] データモデル変更が定義済み（該当する場合）
- [ ] UI/UXデザインが完成（該当する場合）

### 🎯 Kotlin Multiplatform対応
- [ ] 対象プラットフォームが明確（Android/iOS/Web/Desktop/Server）
- [ ] プラットフォーム間の共通/固有機能が整理済み
- [ ] expect/actual実装の方針が決定（該当する場合）

### 🔗 依存関係解決
- [ ] 依存する他のPBIが完了済み
- [ ] 必要な外部ライブラリ・SDKが利用可能
- [ ] 環境・インフラの準備が完了

### 📊 見積もり・計画
- [ ] ストーリーポイントが合意済み
- [ ] タスク分解が完了
- [ ] テスト戦略が定義済み

### 👥 承認プロセス完了
- [ ] ステークホルダーの承認取得済み
- [ ] 開発チームとの実装方針合意済み
- [ ] プロダクトオーナーの最終確認済み

## PBI命名規則

PBIファイルは以下の命名規則に従います：
- `PBI-{ID}-{簡潔なタイトル}.md`
- 例: `PBI-001-ユーザー認証機能.md`

## 管理フロー

### 1. 要件定義フェーズ（requirements/）
- ステークホルダーヒアリングを実施
- 初期要件をPBIテンプレートに記録
- 要件の詳細化・明確化を進行

### 2. DoRチェック・ブロック解消（blocked/ ↔ ready/）
- Definition of Readyチェックリストを確認
- 不足項目があれば `blocked/` で待機
- 全項目完了時に `ready/` に移動

### 3. 開発実行（ready/ → active/）
- エンジニアがPBIを選択し開発開始
- `active/` ディレクトリに移動
- 進捗状況を定期更新

### 4. 完了・アーカイブ（active/ → completed/ → archived/）
- 受け入れ条件満足時に `completed/` に移動
- 長期間未参照のPBIは `archived/` に移動

## Kotlin Multiplatform特有の考慮事項

### プラットフォーム依存関係管理
- **共通機能**: shared モジュールで実装可能な機能
- **プラットフォーム固有**: expect/actual パターンが必要な機能
- **段階的展開**: 特定プラットフォームから開始して順次拡張

### プラットフォーム間の影響分析
- 各プラットフォームでの実装難易度評価
- UI/UX統一性の確保方針
- パフォーマンス要件のプラットフォーム差異

## 品質管理

### DoR遵守による品質向上
- 着手前の品質チェックで手戻り防止
- エンジニアの作業効率向上
- ステークホルダー満足度向上

### 継続的改善
- 完了PBIのレトロスペクティブ実施
- DoRチェックリストの継続的改善
- プロセス効率化の定期見直し